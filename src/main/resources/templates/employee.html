<!DOCTYPE html>

<head th:replace="~{component ::headerFragment}" >

</head>

<head>

     <!-- link employee css file -->
     <link rel="stylesheet" href="resources/style/employee.css">

     <!-- link employee js file -->
     <script src="controllerjs/employee-5.js"></script>

</head>

<body>

    <!-- Topnav Bar -->
  <nav th:replace="~{component ::topnavFragment}">
</nav>
    

    <div class="container-fluid mt-2">

        <!-- title area start -->
    
        <div class="row mt-5">

            <div class="col-12 text-center d-flex justify-content-center p-2 title-header-div">

                <i class="fa-solid fa-id-badge fa-2x me-3" ></i>
                <h2>Employee Management</h2>

            </div>

        </div>
        <!-- title area End -->

        <!-- Card area start  -->
        <div class="row mt-2">
            <div class="col-1"></div>
            <div class="col-6">

            </div>
            <div class="col-4 text-end">

                <button type="button" data-bs-toggle="modal" data-bs-target="#employeeAddModal" class="btn btn-primary">
                    Add New Employee </button>
            </div>
            <div class="col-1"></div>
        </div>
        <!-- Card area end  -->

        <!-- table Area Start-->
        <div class="row mt-2">
            <div class="col-1"></div>
            <div class="col-10">
                <div class="card employee-card">
                    <div class="card-body employee-cardbody">

                        <table class="table table-hover" id="tableEmployee">
                            <thead class="table-header text-center">
                                <tr>
                                    <th> # </th><!-- No ,# , Index -->
                                    <th> Full Name </th>
                                    <th> NIC </th>
                                    <th> Mobile </th>
                                    <th> Account </th>
                                    <th> Email </th>
                                    <th> Designation </th>
                                    <th> Status </th>

                                </tr>
                            </thead>

                            <tbody class="table-body">
                            </tbody>

                        </table>

                    </div>
                </div>
            </div>
            <div class="col-1"></div>

        </div>
        <!-- table Area End-->

    </div>

    <!-- employee Add Modal -->
    <div class="modal" id="employeeAddModal" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h2> Edit Employee </h2>
                    <button type="button" class="btn-close" onclick="buttonModalClose()"></button>
                </div>
                <div class="modal-body">
                    <form id="formEmployee" onsubmit="return false">
                        <!-- required mark start-->
                        <div class="row">
                            <div class="col-12 text-end fw-bold">
                                <span class="text-danger"> * </span> Required
                            </div>
                        </div>
                        <!-- required mark end-->

                        <!-- full name Start-->
                        <div class="row mt-2">
                            <label for="textFullName" class="col-3 col-form-label fw-bold">
                                Full Name : <span class="text-danger"> * </span>
                            </label>
                            <div class="col-9">
                                <input type="text" name="fullname" id="textFullName" class="form-control" required
                                    data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    data-bs-title="Ex - Haritha Pramodha Jayaweera" placeholder="Enter Full name"
                                    onkeyup="textFullNameValidator(this);">
                            </div>
                        </div>
                        <!-- full name end-->

                        <!-- Calling name / nic / gender / dob start-->
                        <div class="row mt-2">
                            <div class="col-3">
                                <label for="textCallingName" class="form-label fw-bold">
                                    Calling Name : <span class="text-danger"> * </span>
                                </label>
                                <input type="text" placeholder="Enter Calling Name" class="form-control"
                                    onkeyup="textCallingNameValidator(this)" required id="textCallingName"
                                    list="dlFullNameParts">
                                <datalist id="dlFullNameParts">
                                    <option value="Abc">
                                    <option value="Sde">
                                    <option value="Dsde">
                                    <option value="Gajava">
                                </datalist>
                            </div>

                            <div class="col-3">
                                <label for="textNIC" class="form-label fw-bold">
                                    Nic : <span class="text-danger"> * </span>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter NIC" required
                                    onkeyup="textValidator(this, '^([0-9]{9}[VvXx])|([0-9]{12})$' ,'employee', 'nic')"
                                    id="textNIC" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    data-bs-title="Ex- 000000000V / 200012345685">
                            </div>

                            <div class="col-3">
                                <div class="row mb-1">
                                    <label for="radioMale" class="form-label fw-bold">
                                        Gender : <span class="text-danger"> * </span>
                                    </label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" value="Male" id="radioMale" required
                                        onchange="radioValidator(this, '' ,'employee', 'gender' , labelMale,labelFemale)"
                                        name="gender">
                                    <label for="radioMale" id="labelMale" class="form-check-lable fw-bold">Male</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" value="Female" id="radioFemale"
                                        onchange="radioValidator(this, '' ,'employee', 'gender' ,labelFemale,labelMale )"
                                        required name="gender">
                                    <label for="radioFemale" id="labelFemale"
                                        class="form-check-lable fw-bold">Female</label>
                                </div>

                            </div>

                            <div class="col-3">
                                <label for="dateDateOfBirth" class="form-label fw-bold">
                                    Date of Birth : <span class="text-danger"> * </span>
                                </label>
                                <input type="date" class="form-control" id="dateDateOfBirth" required
                                    onchange="textValidator(this, '^[0-9]{4}[-][0-9]{2}[-][0-9]{2}$','employee', 'dob')">
                            </div>
                        </div>
                        <!-- Calling name / nic / gender / dob End-->

                        <!-- Email / mobile / land start -->
                        <div class="row mt-2">
                            <div class="col-4">
                                <label for="textEmail" class="form-label fw-bold">
                                    Email : <span class="text-danger">*</span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-at"></i>
                                    </span>
                                    <input type="email" id="textEmail" placeholder="Enter Email" class="form-control"
                                        onkeyup="textValidator(this,'^[A-Za-z0-9\\_\\-\\.]{8,20}[@][a-z]{3,10}[.][a-z]{2,3}$' , 'employee','email')"
                                        required>
                                </div>
                            </div>
                            <div class="col-4">
                                <label for="textMobileNo" class="form-label fw-bold">
                                    Mobile No : <span class="text-danger">*</span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-mobile-screen-button"></i>
                                    </span>
                                    <input type="text" id="textMobileNo" required class="form-control"
                                        onkeyup="textValidator(this,'^[0][7][01245678][0-9]{7}$', 'employee', 'mobile')"
                                        placeholder="Enter Mobile no">
                                </div>

                            </div>
                            <div class="col-4">
                                <label for="textLandNo" class="form-label fw-bold">
                                    Land No : <span class="text-danger"> (optional)</span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-phone-volume"></i>
                                    </span>
                                    <input type="text" id="textLandNo" placeholder="Enter Land No" class="form-control"
                                        onkeyup="textValidator(this,'^[0][01245678][01245678][0-9]{7}$', 'employee', 'landno')">
                                </div>
                            </div>
                        </div>
                        <!-- Email / mobile / land end -->

                        <!-- Address / Note Start-->
                        <div class="row mt-2">
                            <div class="col-6">
                                <div class="form-floating">
                                    <textarea id="textAddress"
                                        onkeyup="textValidator(this, '^([0-9\\/\\-\\sA-Za-z]{1,20}[\\,][\\s])+([A-Z][a-z0-9\\-]{1,20}[.])$' , 'employee' ,'address')"
                                        class="form-control" placeholder="Enter Address" required></textarea>
                                    <label for="textAddress" class="form-label fw-bold">
                                        Address : <span class="text-danger">*</span>
                                    </label>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-floating">
                                    <textarea id="textNote" class="form-control"
                                        onkeyup="textValidator(this, '^.*$' , 'employee', 'note')"
                                        placeholder="Enter Note"></textarea>
                                    <label for="textNote" class="form-label fw-bold">
                                        Note : <span class="text-danger">(optional)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <!-- Address / Note End-->

                        <!-- Status / Designation / Civilstatus start-->
                        <div class="row mt-2">
                            <div class="col-4">
                                <label for="selectCivilStatus" class="form-label fw-bold">
                                    Civilstatus : <span class="text-danger">*</span>
                                </label>
                                <select id="selectCivilStatus"
                                    onchange="selectStaticValidator(this,'','employee','civilstatus')"
                                    class="form-select text-center" required>
                                    <option value="" selected disabled>Select CivilStatus</option>
                                    <option value="Single">Single</option>
                                    <option value="Married">Married</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="selectDesignation" class="form-label fw-bold">
                                    Designation : <span class="text-danger">*</span>
                                </label>
                                <select required class="form-select text-center"
                                    onchange="selectDynamicValidator(this, '' , 'employee', 'designation_id' )"
                                    id="selectDesignation">
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="selectStatus" class="form-label fw-bold">
                                    Staus : <span class="text-danger">*</span>
                                </label>
                                <select id="selectStatus" required
                                    onchange="selectDynamicValidator(this,'' ,'employee', 'employeestatus_id')"
                                    class="form-select text-center">

                                </select>
                            </div>
                        </div>
                        <!-- Status / Designation / Civilstatus End-->

                        <!-- buttons start-->
                        <div class="row mt-2">
                            <div class="col-4 text-start">
                                <div id="divModifyButton">

                                    <button type="button" style="width: 25%;" id="buttonDelete"
                                        onclick="deleteEmployee(window['editOb'], window['editRow'])"
                                        class="btn btn-danger fw-bold ms-2 me-2"> Delete </button>
                                    <button type="button" style="width: 25%;" class="btn btn-info fw-bold"> Print
                                    </button>
                                </div>

                            </div>
                            <div class="col-8 text-end">
                                <button type="button" onclick="let userConfirm = confirm('Are you sure to reset Employee Form..?');
                                if (userConfirm) {
                                   formEmployee.reset();
                                   refreshEmployeeForm();
                                   divModifyButton.className = 'd-none';                                    
                                }" class="btn fw-bold 
                                btn-clear all-button">
                                <i class="fa-solid fa-trash"></i>
                                    Clear
                                </button>

                                <button type="submit" id="buttonUpdate"  style="pointer-events: all;" class="btn fw-bold 
                            me-2 ms-2 btn-update all-button" onclick="buttonEmployeeUpdate()">
                                    <i class="fa-solid fa-edit"></i>
                                    Update
                                </button>

                                <button type="submit" id="buttonAdd" style="pointer-events: all;" class="btn fw-bold 
                            btn-add all-button" onclick="buttonEmployeeSubmit()">
                                    <i class="fa-solid fa-plus"></i>
                                    Add
                                </button>
                            </div>
                        </div>
                        <!-- buttons end-->

                    </form>
                </div>
            </div>
        </div>
    </div>

   
</body>

</html>